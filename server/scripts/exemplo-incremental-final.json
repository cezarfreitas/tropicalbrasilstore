{
  "message": "Exemplo de uso da API para criar variantes incrementalmente",
  "examples": [
    {
      "step": 1,
      "description": "Primeira requisição - criar produto com primeira variante",
      "request": {
        "products": [
          {
            "codigo": "CHN001",
            "nome": "Chinelo Havaianas Top",
            "categoria": "Chinelos",
            "tipo": "Casual",
            "genero": "Masculino",
            "descricao": "O chinelo mais famoso do Brasil",
            "preco_sugerido": 39.90,
            "vender_infinito": true,
            "variantes": [
              {
                "cor": "Preto",
                "preco": 29.90,
                "grade": "Grade Masculina",
                "foto": "https://images.tcdn.com.br/img/img_prod/699671/chinelo_havaianas_top_masculino_preto_24851_1_da2ff112816d222cd40bc1e93a37953a_20250313182035.jpg"
              }
            ]
          }
        ]
      },
      "expected_result": "Produto criado + 1 variante preta criada"
    },
    {
      "step": 2,
      "description": "Segunda requisição - adicionar variante azul ao mesmo produto",
      "request": {
        "products": [
          {
            "codigo": "CHN001",
            "variantes": [
              {
                "cor": "Azul Marinho",
                "preco": 29.90,
                "grade": "Grade Masculina",
                "foto": "https://static1.efacil.com.br/wcsstore/ExtendedSitesCatalogAssetStore/Imagens/360/1204119_01.jpg"
              }
            ]
          }
        ]
      },
      "expected_result": "Produto existente + 1 nova variante azul adicionada"
    },
    {
      "step": 3,
      "description": "Terceira requisição - adicionar variante branca (opcional: atualizar informações do produto)",
      "request": {
        "products": [
          {
            "codigo": "CHN001",
            "nome": "Chinelo Havaianas Top Premium",
            "descricao": "O chinelo mais famoso do Brasil - versão premium",
            "variantes": [
              {
                "cor": "Branco",
                "preco": 32.90,
                "grade": "Grade Masculina",
                "foto": "https://example.com/chinelo-branco.jpg"
              }
            ]
          }
        ]
      },
      "expected_result": "Produto atualizado + 1 nova variante branca adicionada"
    },
    {
      "step": 4,
      "description": "Quarta requisição - tentar adicionar cor que já existe",
      "request": {
        "products": [
          {
            "codigo": "CHN001",
            "variantes": [
              {
                "cor": "Preto",
                "preco": 29.90,
                "grade": "Grade Masculina"
              }
            ]
          }
        ]
      },
      "expected_result": "Variante preta detectada como existente - não criada novamente"
    }
  ],
  "response_structure": {
    "success": true,
    "message": "Processamento concluído com sucesso",
    "data": {
      "produtos_processados": "Total de produtos na requisição",
      "produtos_novos": "Produtos criados do zero",
      "produtos_atualizados": "Produtos existentes que receberam atualizações",
      "variantes_novas": "Novas variantes de cor criadas",
      "variantes_existentes": "Variantes que já existiam (não criadas)",
      "total_variantes": "Total de variantes processadas",
      "categorias_criadas": "Array de novas categorias criadas",
      "tipos_criados": "Array de novos tipos criados",
      "cores_criadas": "Array de novas cores criadas",
      "grades_criadas": "Array de novas grades criadas",
      "produtos": "Array detalhado dos produtos processados"
    }
  },
  "rules": [
    "✅ Se o produto NÃO existir: cria produto + variantes",
    "✅ Se o produto JÁ existir: apenas adiciona novas variantes",
    "✅ Se a variante de cor JÁ existir: pula (não duplica)",
    "✅ Campos opcionais podem ser omitidos para produtos existentes",
    "✅ Nome é obrigatório apenas para produtos novos",
    "✅ Código e variantes são sempre obrigatórios",
    "✅ Cada variante cria múltiplas variantes físicas por tamanho",
    "✅ Imagens são baixadas e salvas no servidor automaticamente"
  ]
}
